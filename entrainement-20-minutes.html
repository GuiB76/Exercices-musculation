<!DOCTYPE html>
<html>

  <head>
    <!-- META DATA -->
    <title> FaisDuSportBatard </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="style/header.css">
    <link rel="stylesheet" type="text/css" href="style/main.css">
    <link rel="stylesheet" type="text/css" href="style/footer.css">
    <link rel="stylesheet" type="text/css" href="style/mobile.css">
    <!-- JS -->
    <script src="scripts/header.js"></script>
    <script src="scripts/footer.js"></script>
  </head>


  <body>

    <header class="sticky-header">
      <nav role="navigation">
        <div id="menuToggleMobile">
            <input type="checkbox"/>
            <span></span>
            <span></span>
            <span></span>
            <ul id="menuMobile">
            <a id="lien-accueil" href="index.html"> <li> Accueil </li> </a> 
            <a id="lien-entrainements" href="entrainements.html"> <li> Les Entrainements </li> </a>
            <ul>
                <li class="subNavHeader"> <a id="lien-entrainements1" href="entrainements-20-40-60-minutes.html"> Entrainements de <br> 20 - 40 - 60 minutes </a> </li>
                <li class="subNavHeader"> <a id="lien-entrainements2" href="entrainements-par-partie-du-corps.html"> Entrainements par partie du corps </a> </li>
            </ul>
            <a id="lien-exercices" href="exercices.html"> <li> Les Exercices </li> </a>
            <ul>
                <li class="subNavHeader"> <a id="lien-exercices-abdos" href="#"> Abdominaux </a> </li>
                <li class="subNavHeader"> <a id="lien-exercices-bras" href="#"> Bras </a> </li>
                <li class="subNavHeader"> <a id="lien-exercices-dos" href="#"> Dos </a> </li>
                <li class="subNavHeader"> <a id="lien-exercices-epaules" href="#"> Epaules </a> </li>
                <li class="subNavHeader"> <a id="lien-exercices-jambes" href="#"> Jambes </a> </li>
                <li class="subNavHeader"> <a id="lien-exercices-pectoraux" href="#"> Pectoraux </a> </li>
            </ul>
            </ul>
        </div>
      </nav>
      <div id="nav-encadre"></div>
    </header>

    
    <main>  

      <h1 id="h1-exercise"> Entraînement de 20 minutes </h1>

      <br>

      <section class="EncadresExercices">

        <div class="encadre">
          <div id="exercise-name"> Biceps</div>
          <div id="current-set"> Préparation </div>
          <div id="timer">00:00</div>
          <audio id="countdownSound" src="sound/bipSonore.mp3"></audio>
          <div class="buttons-exercise">
            <button id="start">Démarrer</button>
            <button id="pause" disabled>Pause</button>
            <button id="reset">Réinitialiser</button>
          </div>
          <img id="exercise-image" class="rounded-image" src="img/illustrations/haltères4.jpg" alt="Illustration de l'exercice">
        </div>

        <br>

        <div class="encadre">
          <div id="next-exercice-title"> <strong> <p> Prochaine Série </p> </strong> </div>
          <div id="next-exercise-name"> </div>
          <div id="next-set"> </div>
          <img id="next-exercise-image" class="rounded-image" src="img/illustrations/haltères4.jpg" alt="Illustration de l'exercice">
        </div>

      </section>

      <br><br><br>

      <section class="encadre">

        <h2> 
          Résumé des différents exercices 
          <br> de l'entrainement 
        </h2>

        <br>

        <div class="encadre">
          <button class="dropdown-btn">1. Biceps</button>
          <div class="dropdown-content">
            <h3>Curls Biceps</h3>
            <p>Les curls biceps sont un exercice de base pour développer les muscles des bras. Tenez une barre d'haltères avec une prise en supination (paumes vers le haut) et pliez les coudes pour amener la barre vers vos épaules.</p>
            <h3>Curls Prise Marteau</h3>
            <p>Les curls prise marteau sont similaires aux curls biceps, mais avec une prise neutre (paumes face à face). Cela cible les muscles du biceps de manière légèrement différente.</p>
            <h3>Curls Prise en Pronation</h3>
            <p>Les curls prise en pronation sont similaires aux curls biceps, mais avec une prise en pronation qui affecte l'avant bras. Cela accentue l'implication des muscles de l'avant bras.</p>
          </div>
        </div>

        <div class="encadre">
          <button class="dropdown-btn">2. Pectoraux</button>
          <div class="dropdown-content">
            <h3>Développé Couché</h3>
            <p>Le développé couché est un exercice classique de musculation qui cible principalement les muscles pectoraux. Allongé sur un banc, poussez une barre chargée vers le haut et redescendez-la jusqu'à la poitrine.</p>
            <h3>Ecarté Couché</h3>
            <p>L'écarté couché est un exercice qui cible les muscles pectoraux externes. Allongé sur un banc, tenez une paire d'haltères au-dessus de votre poitrine et écartez vos bras sur les côtés jusqu'à ressentir une bonne tension.</p>
            <h3>Développé Couché Resserré</h3>
            <p>Le développé couché resserré est un exercice qui cible principalement les triceps, mais qui sollicite également les muscles pectoraux. Utilisez une prise serrée sur la barre pour accentuer l'implication des triceps.</p>
          </div>
        </div>

        <div class="encadre">
          <button class="dropdown-btn">3. Jambes</button>
          <div class="dropdown-content">
            <h3>Squats Goblet</h3>
            <p>Les squats goblet sont un excellent exercice pour les jambes et les fessiers. Tenez un haltère ou une kettlebell contre votre poitrine et descendez en position accroupie, en gardant le dos droit.</p>
            <h3>Squats Overhead</h3>
            <p>Les squats overhead sont une variante avancée des squats qui mettent davantage l'accent sur les muscles des jambes, les fessiers et les épaules. Tenez deux haltères chargés au-dessus de votre tête pendant que vous descendez en position accroupie.</p>
            <h3>Squats Front</h3>
            <p>Les squats front sont une autre variante des squats qui ciblent davantage les quadriceps. Tenez un haltère chargé en position frontale, devant vos épaules, et descendez en position accroupie.</p>          
          </div>
        </div>

        <br><br><br>

        <div class="encadre">
          <button class="dropdown-btn">4. Epaules</button>
          <div class="dropdown-content">
            <h3>Élevations Frontales</h3>
            <p>Les élévations frontales sont un exercice efficace pour cibler les muscles deltoïdes antérieurs. Tenez une paire d'haltères devant vous, les bras légèrement fléchis, et levez les bras jusqu'à l'horizontale.</p>
            <h3>Élevations Latérales</h3>
            <p>Les élévations latérales sont un exercice qui isole les muscles deltoïdes latéraux. Tenez une paire d'haltères le long de vos cuisses et levez les bras sur les côtés jusqu'à l'horizontale.</p>
            <h3>Développé Épaules</h3>
            <p>Le développé épaules, également appelé développé militaire, est un exercice de base pour développer les muscles deltoïdes. Tenez une barre d'haltères au niveau des épaules et poussez-la vers le haut jusqu'à ce que les bras soient tendus.</p>          
          </div>
        </div>

        <div class="encadre">
          <button class="dropdown-btn">5. Dos</button>
          <div class="dropdown-content">
            <h3>Rowing Bras Droit</h3>
            <p>Le rowing bras droit est un exercice qui cible principalement les muscles du dos, en particulier les trapèzes et les muscles du milieu du dos. Penchez-vous en avant, tenez une haltère dans une main et ramenez-la vers votre taille en gardant le dos droit.</p>          
            <h3>Rowing Bras Gauche</h3>
            <p>Le rowing bras gauche est similaire au rowing bras droit, mais en utilisant l'autre bras pour tenir l'haltère.</p>          
            <h3>Shrugs</h3>
            <p>Les shrugs sont un exercice excellent pour cibler les trapèzes supérieurs. Tenez une paire d'haltères le long de votre corps et levez les épaules vers le haut en contractant les trapèzes.</p>          
          </div>
        </div>

        <div class="encadre">
          <button class="dropdown-btn">6. Abdominaux</button>
          <div class="dropdown-content">
            <h3>Planche</h3>
            <p>La planche est un exercice de gainage qui renforce les muscles abdominaux, les muscles du dos et les muscles stabilisateurs. Allongez-vous face contre sol, appuyez sur vos avant-bras et soulevez votre corps, formant une ligne droite des épaules aux chevilles.</p>
            <h3>Planche Inversée</h3>
            <p>La planche inversée est un exercice avancé qui cible principalement les muscles abdominaux inférieurs. Allongé sur le dos, soulevez vos jambes tendues vers le plafond et soulevez vos hanches du sol en appuyant sur vos bras.</p>
            <h3>Mountain Climber</h3>
            <p>Le mountain climber est un exercice cardiovasculaire qui renforce les abdominaux et les muscles du tronc. En position de planche, alternez le fait d'amener les genoux vers la poitrine en les pliant rapidement.</p>          
          </div>
        </div>

      </section>


    </main>

    <br><br><br>

    <footer>
      <div class="borderFooter">
        <div class="footer-left">
          <span id="site-name"></span> &copy; <span id="copyright"></span>
        </div>
        <div class="footer-center">
          <a href="cgu.html" id="cgu-link"> Conditions Générales d'Utilisation </a>
        </div>
        <div class="footer-right">
          <a href="rgpd.html" id="rgpd-link"> Politique de Confidentialité (RGPD)</a>
        </div>
      </div>
    </footer>

    <!-- -------------------------------JavaScript-------------------------------- -->

    <script>

      //---------------------------------------------------------------------------\\
      // Menu Déroulant Explications Exercices

      const dropdownBtns = document.querySelectorAll(".dropdown-btn");
        dropdownBtns.forEach(function(btn) 
        {
          btn.addEventListener("click", function() 
          {
            const content = this.nextElementSibling;
            content.style.display = (content.style.display === "block") ? "none" : "block";
            // Cacher les autres contenus affichés
            const otherContents = document.querySelectorAll(".dropdown-content");
            otherContents.forEach(function(otherContent) 
            {
              if (otherContent !== content) 
              {
                otherContent.style.display = "none";
              }
            });
          });
        });

    </script>

    <script>
      //---------------------------------------------------------------------------\\
      // CACHER LE H1 AU LANCEMENT DE L'ENTRAINEMENT

      // Récupérer la référence de l'élément h1-exercise
      const h1ExerciseElement = document.getElementById("h1-exercise");
      // Fonction pour cacher le titre h1-exercise
      function hideH1Exercise() { h1ExerciseElement.style.display = "none"; }
      // Fonction pour afficher le titre h1-exercise
      function showH1Exercise() { h1ExerciseElement.style.display = "block"; }
      // Événement pour cacher le titre lorsque l'entrainement est lancé (au clic sur le bouton "Démarrer")
      document.getElementById("start").addEventListener("click", () => { hideH1Exercise(); });
      // Événement pour afficher le titre lorsque l'entrainement est réinitialisé (au clic sur le bouton "Réinitialiser")
      document.getElementById("reset").addEventListener("click", () => { showH1Exercise();});
      // Fonction pour faire remonter la page tout en haut
      function scrollToTop() { window.scrollTo({ top: 0, behavior: "smooth" }); }
    </script>


    <script>

      //---------------------------------------------------------------------------\\
      // Les Tableaux d'Exercices

      var training20mins = 
      [
        { name: "Biceps - Préparation",                      duration: 30,          image: "img/illustrations/haltères4.jpg" },
        { name: "Biceps - Curls",                            duration: 45,          image: "img/curl-biceps-avec-halteres-alterne.gif" },
        { name: "Biceps - Repos",                            duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Biceps - Prise Marteau",                    duration: 45,          image: "img/curl-haltere-prise-neutre.gif" },
        { name: "Biceps - Repos",                            duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Biceps - Curls Supination",                 duration: 45,          image: "img/curl-zottman.gif" },
        { name: "Pectoraux - Préparation",                   duration: 30,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Pectoraux - Développé Couché",              duration: 45,          image: "img/developpe-couche-halteres-exercice-musculation.gif" },
        { name: "Pectoraux - Repos",                         duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Pectoraux - Ecarté Couché",                 duration: 45,          image: "img/ecarte-couche-haltere.gif" },
        { name: "Pectoraux - Repos",                         duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Pectoraux - Développé Couché Resserré",     duration: 45,          image: "img/developpe-couche-serre-avec-halteres.gif" },
        { name: "Jambes - Préparation",                      duration: 30,          image: "iimg/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Jambes - Squats Goblet",                    duration: 45,          image: "img/squat-goblet-exercice-musculation.gif" },
        { name: "Jambes - Repos",                            duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Jambes - Squats Overhead",                  duration: 45,          image: "img/squat-overhead-halteres.gif" },
        { name: "Jambes - Repos",                            duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Jambes - Squats Front",                     duration: 45,          image: "img/squat-front-avec-halteres.gif" },
        { name: "Epaules - Préparation",                     duration: 30,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Epaules - Elevations Frontales",            duration: 45,          image: "img/elevations-frontales-exercice-musculation.gif" },
        { name: "Epaules - Repos",                           duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Epaules - Elevations Latérales",            duration: 45,          image: "img/elevations-frontales-exercice-musculation.gif" },
        { name: "Epaules - Repos",                           duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Epaules - Développé Epaules",               duration: 45,          image: "img/developpe-epaules-halteres-debout.gif" },
        { name: "Dos - Préparation",                         duration: 30,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Dos - Rowing Bras Droit",                   duration: 45,          image: "img/rowing-haltere-un-bras.gif" },
        { name: "Dos - Repos",                               duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Dos - Rowing Bras Gauche",                  duration: 45,          image: "img/rowing-haltere-un-bras.gif" },
        { name: "Dos - Repos",                               duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Dos - Shrugs",                              duration: 45,          image: "img/shrugs-avec-halteres.gif" },
        { name: "Abdominaux - Préparation",                  duration: 30,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Abdominaux - Planche",                      duration: 45,          image: "img/planche-abdos.gif" },
        { name: "Abdominaux - Repos",                        duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Abdominaux - Planche Inversée",             duration: 45,          image: "img/planche-inversee.gif" },
        { name: "Abdominaux - Repos",                        duration: 15,          image: "img/illustrations/boire-de-l-eau-2.jpg" },
        { name: "Abdominaux - Mountain Climber",             duration: 45,          image: "img/mountain-climber-exercice-musculation.gif" },
        { name: "Entrainement - Terminé",                    duration: 30,          image: "img/illustrations/haltères4.jpg" }
      ];


      //---------------------------------------------------------------------------\\
      // Les Variables

      var exerciseIndex = 0;
      var exerciseTime = training20mins;
      var secondsRemaining = exerciseTime[exerciseIndex].duration;
      var intervalId;

      var timerElement = document.getElementById("timer");
      var startButton = document.getElementById("start");
      var pauseButton = document.getElementById("pause");
      var resetButton = document.getElementById("reset");
      var exerciseNameElement = document.getElementById("exercise-name");
      var currentSetElement = document.getElementById("current-set");
      var exerciseImageElement = document.getElementById("exercise-image");
      var changeExerciseButton = document.getElementById("change-exercise");

      var nextExerciseIndex = 1;
      var nextExerciseNameElement = document.getElementById("next-exercise-name");
      var nextSetElement = document.getElementById("next-set");
      var nextExerciseImageElement = document.getElementById("next-exercise-image");

      var wakeLock = null;


      //---------------------------------------------------------------------------\\
      // WAKE LOCK pour garder le téléphone allumé lors des exercices de l'entrainement

      // Fonction pour demander le Wake Lock
      async function requestWakeLock() 
      {
        try 
        {
          const wakeLock = await navigator.wakeLock.request("screen");
          console.log("Wake Lock activé !");
          return wakeLock;
        } 
        catch (err) 
        {
          console.error("Impossible d'activer le Wake Lock : ", err);
        }
      }

      // Fonction pour relâcher le Wake Lock
      async function releaseWakeLock(wakeLock) 
      {
        try 
        {
          await wakeLock.release();
          console.log("Wake Lock relâché !");
        } 
        catch (err) 
        {
          console.error("Erreur lors du relâchement du Wake Lock : ", err);
        }
      }


      //---------------------------------------------------------------------------\\
      // LES FONCTIONS

      function updateTimer() 
      {
        var minutes = Math.floor(secondsRemaining / 60);
        var seconds = secondsRemaining % 60;

        timerElement.textContent = ("0" + minutes).slice(-2) + ":" + ("0" + seconds).slice(-2);

        secondsRemaining--;

        if (seconds <= 5) 
        {
          timerElement.style.color = "green";
        } 
        else 
        {
          timerElement.style.color = "white";
        }

        if (seconds <= 3) 
        {
          playCountdownSound();
        } 

        if (secondsRemaining < 0) 
        {
          clearInterval(intervalId);
          exerciseIndex++;
          if (exerciseIndex < exerciseTime.length) 
          {
            secondsRemaining = exerciseTime[exerciseIndex].duration;
            currentSetElement.textContent = exerciseTime[exerciseIndex].name.split(" - ")[1];
            exerciseNameElement.textContent = exerciseTime[exerciseIndex].name.split(" - ")[0];
            startTimer();
            updateExerciseImage();
            nextExerciseIndex = exerciseIndex + 1; 
            previewNextExercise(); 
            //appel du wake lock --> lancé
            if (!wakeLock) { wakeLock = requestWakeLock(); }
          } 
          else 
          {
            timerElement.textContent = "Terminé !";
            startButton.disabled = true;
            pauseButton.disabled = true;
            //fermeture du wake lock --> fin
            if (wakeLock) { releaseWakeLock(wakeLock); wakeLock = null; }
          }
        }

      }


      function previewNextExercise() 
      {
        if (nextExerciseIndex < exerciseTime.length) 
        {
          nextExerciseNameElement.textContent = exerciseTime[nextExerciseIndex].name.split(" - ")[0];
          nextSetElement.textContent = exerciseTime[nextExerciseIndex].name.split(" - ")[1];
          var imagePath = exerciseTime[nextExerciseIndex].image;
          nextExerciseImageElement.src = imagePath;
        } 
        else 
        {
          nextExerciseNameElement.textContent = "Entrainement terminé";
          nextSetElement.textContent = "";
          nextExerciseImageElement.src = "img/illustrations/haltères4.jpg";
        }
      }


      function startTimer() 
      {
        intervalId = setInterval(updateTimer, 1000);
        startButton.disabled = true;
        pauseButton.disabled = false;
        scrollToTop();
      }


      function pauseTimer() 
      {
        clearInterval(intervalId);
        startButton.disabled = false;
        pauseButton.disabled = true;
      }


      function resetTimer() 
      {
        clearInterval(intervalId);
        exerciseIndex = 0;
        secondsRemaining = exerciseTime[exerciseIndex].duration;
        exerciseNameElement.textContent = exerciseTime[exerciseIndex].name.split(" - ")[0];
        currentSetElement.textContent = "Préparation";
        timerElement.textContent = "00:00";
        startButton.disabled = false;
        pauseButton.disabled = true;
        updateExerciseImage();
        nextExerciseIndex = exerciseIndex + 1; 
        previewNextExercise();
      }


      function updateExerciseImage() 
      {
        var imagePath = exerciseTime[exerciseIndex].image;
        exerciseImageElement.src = imagePath;
      }


      function playCountdownSound() 
      {
        var countdownSound = document.getElementById("countdownSound");
        countdownSound.play();
      }


      //---------------------------------------------------------------------------\\
      // Evènements

      startButton.addEventListener("click", startTimer);
      pauseButton.addEventListener("click", pauseTimer);
      resetButton.addEventListener("click", resetTimer);
      changeExerciseButton.addEventListener("click", changeExercise);
      document.addEventListener("DOMContentLoaded", previewNextExercise);


      //---------------------------------------------------------------------------\\
      // L'Appel des fonctions

      resetTimer();


    </script>


  </body>

</html>
